<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Ultre</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: #0f0f0f;
        color: #f2f2f2;
        font-family: 'Quicksand', sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
        scroll-behavior: smooth;
        text-align: center;
      }

      .hidden-content {
        display: none;
      }

      .active-content {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
      }

      .transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #0f0f0f;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
      }

      .transition-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      
      nav {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: rgba(15, 15, 15, 0.7);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        padding: 10px 20px;
        z-index: 1000;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
      }

      nav ul {
        list-style: none;
        display: flex;
        gap: 30px;
        position: relative;
      }

      nav ul li {
          position: relative;
          z-index: 1;
      }

      nav ul li a {
        color: #f2f2f2;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 700;
        padding: 5px 10px;
        transition: color 0.3s ease, transform 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      nav ul li a.active-nav-link {
          color: #f2f2f2;
      }

      #nav-indicator {
          position: absolute;
          background-color: rgba(50, 50, 50, 0.7);
          transition: left 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
                      width 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
                      height 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
                      top 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
                      border-radius 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
          z-index: 0;
          border-radius: 9999px;
          box-sizing: border-box;
      }

      /* Mobile Hamburger Icon */
      .hamburger-menu-icon {
          position: fixed;
          top: 20px;
          left: 20px;
          font-size: 2.5rem;
          color: #f2f2f2;
          cursor: pointer;
          z-index: 1100;
          transition: color 0.3s ease;
          display: none;
      }

      .hamburger-menu-icon:hover {
          color: #d0d0d0;
      }

      /* Mobile Navigation Overlay */
      #mobile-nav-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(15, 15, 15, 0.95);
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          z-index: 1500;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          transform: translateX(-100%);
          transition: transform 0.4s ease-in-out;
      }

      #mobile-nav-overlay.open {
          transform: translateX(0);
      }

      #mobile-nav-overlay .close-btn {
          position: absolute;
          top: 20px;
          right: 20px;
          font-size: 3rem;
          color: #f2f2f2;
          cursor: pointer;
          transition: color 0.2s ease;
      }

      #mobile-nav-overlay .close-btn:hover {
          color: #d0d0d0;
      }

      #mobile-nav-overlay ul {
          list-style: none;
          display: flex;
          flex-direction: column;
          gap: 25px;
          font-size: 1.8rem;
          font-weight: 700;
      }

      #mobile-nav-overlay ul li a {
          color: #f2f2f2;
          text-decoration: none;
          padding: 10px 20px;
          border-radius: 8px;
          transition: background-color 0.3s ease, color 0.3s ease;
      }

      #mobile-nav-overlay ul li a:hover {
          background-color: rgba(242, 242, 242, 0.1);
      }

      section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        position: relative;
        width: 100%;
      }

      #intro-section {
          min-height: 100vh;
      }

      #main-website-content-wrapper > section {
          display: none;
          padding-top: 80px;
          padding-bottom: 80px;
          min-height: calc(100vh - 100px);
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
      }

      #main-website-content-wrapper > section.active-page {
          display: flex;
      }

      #intro-section {
        background: #0f0f0f;
      }
      #shop-page, #contact-main, #about-us-main, #item-detail-page, #sign-in-main, #sign-up-main, #onboarding-main, #support-main, #chat-interface, #settings-main {
        background: #1a1a1a;
      }
      #home-main, #cart-main {
        background: #0f0f0f;
      }

      .logo {
        width: 120px;
        height: 120px;
        background-color: #f2f2f2;
        border-radius: 50%;
        margin-bottom: 30px;
        opacity: 0;
        transform: scale(0.5);
        animation: fadeInScale 1.2s ease-out forwards, pulseGlow 2s infinite alternate 1.2s;
      }

      @keyframes fadeInScale {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes pulseGlow {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0px rgba(242, 242, 242, 0.7);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 25px 10px rgba(242, 242, 242, 0.7);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0px rgba(242, 242, 242, 0.7);
        }
      }

      .tagline, .info-content {
        font-size: 3.5rem;
        letter-spacing: 2px;
        line-height: 1.2;
        max-width: 90%;
        margin-bottom: 15px;
        font-weight: 700;
      }

      .info-content {
        font-size: 1.3rem;
        font-weight: 400;
        max-width: 700px;
        line-height: 1.6;
        color: #d0d0d0;
      }

      .animated-letter {
        opacity: 0;
        transform: translateY(20px);
        display: inline-block;
        animation: letterFadeIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      }

      .animated-letter.space {
          width: 0.25em;
      }

      @keyframes letterFadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .scroll-hint {
        font-size: 1.1rem;
        opacity: 0;
        margin-top: 20px;
        color: #a0a0a0;
        animation: fadeInBlock 0.8s ease-out forwards;
      }

      @keyframes fadeInBlock {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
      }

      .info-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #f2f2f2;
        opacity: 0;
        animation: fadeInBlock 0.8s ease-out forwards;
      }

      .shop-button {
        background-color: #f2f2f2;
        color: #0f0f0f;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-family: 'Quicksand', sans-serif;
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        margin-top: 30px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        opacity: 0;
        animation: fadeInBlock 0.8s ease-out forwards;
      }

      .shop-button:hover {
        background-color: #d0d0d0;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
      }

      footer {
        background: #0a0a0a;
        color: #888;
        text-align: center;
        padding: 25px 20px;
        font-size: 0.9rem;
        margin-top: auto;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      }

      .modal-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .modal-content {
        background-color: #1a1a1a;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        max-width: 500px;
        width: 90%;
        color: #f2f2f2;
        position: relative;
        transform: translateY(-20px);
        opacity: 0;
        transition: transform 0.3s ease-out, opacity 0.3s ease-out;
      }

      .modal-overlay.show .modal-content {
        transform: translateY(0);
        opacity: 1;
      }

      .modal-close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 1.8rem;
        color: #f2f2f2;
        cursor: pointer;
        transition: color 0.2s ease;
      }

      .modal-close-btn:hover {
        color: #d0d0d0;
      }

      .modal-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 20px;
        color: #f2f2f2;
      }

      .modal-total {
        font-size: 1.8rem;
        font-weight: 700;
        margin-top: 20px;
        margin-bottom: 30px;
        color: #f2f2f2;
      }

      .payment-methods label {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        font-size: 1.1rem;
        cursor: pointer;
      }

      .payment-methods input[type="radio"] {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #f2f2f2;
        border-radius: 50%;
        display: grid;
        place-content: center;
        transition: all 0.2s ease;
      }

      .payment-methods input[type="radio"]::before {
        content: "";
        width: 10px;
        height: 10px;
        border-radius: 50%;
        transform: scale(0);
        transition: transform 0.2s ease;
        background-color: #f2f2f2;
      }

      .payment-methods input[type="radio"]:checked {
        background-color: #f2f2f2;
        border-color: #f2f2f2;
      }

      .payment-methods input[type="radio"]:checked::before {
        transform: scale(1);
      }

      .place-order-btn {
        background-color: #f2f2f2;
        color: #0f0f0f;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-family: 'Quicksand', sans-serif;
        font-size: 1.2rem;
        font-weight: 700;
        cursor: pointer;
        margin-top: 30px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        width: 100%;
      }

      .place-order-btn:hover {
        background-color: #d0d0d0;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
      }

      #item-detail-page-content {
          display: flex;
          flex-direction: column;
          gap: 40px;
          width: 100%;
          max-width: 900px;
          margin: 0 auto;
          align-items: center;
          text-align: left;
      }

      @media (min-width: 768px) {
          #item-detail-page-content {
              flex-direction: row;
              text-align: left;
              align-items: flex-start;
          }
      }

      .item-detail-left {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 20px;
          padding: 20px;
          background-color: #2a2a2a;
          border-radius: 12px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
          min-width: 300px;
      }

      .item-detail-right {
          flex: 2;
          padding: 20px;
          background-color: #2a2a2a;
          border-radius: 12px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      }

      .item-detail-image {
          width: 100%;
          max-width: 300px;
          height: auto;
          border-radius: 8px;
          object-fit: cover;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
          transform: translateX(-50px);
          opacity: 0;
          transition: transform 0.5s ease-out, opacity 0.5s ease-out;
      }

      #item-detail-page.active-page .item-detail-image {
          transform: translateX(0);
          opacity: 1;
      }

      .item-detail-name {
          font-size: 2.5rem;
          font-weight: 700;
          color: #f2f2f2;
          margin-bottom: 10px;
      }

      .item-detail-price {
          font-size: 1.8rem;
          font-weight: 600;
          color: #d0d0d0;
          margin-bottom: 20px;
      }

      .item-detail-description {
          font-size: 1.1rem;
          line-height: 1.6;
          color: #c0c0c0;
      }

      .back-to-shop-btn {
          background-color: #555;
          color: #f2f2f2;
          border: none;
          padding: 10px 20px;
          border-radius: 8px;
          font-family: 'Quicksand', sans-serif;
          font-size: 1rem;
          font-weight: 700;
          cursor: pointer;
          margin-top: 20px;
          transition: background-color 0.3s ease;
      }

      .back-to-shop-btn:hover {
          background-color: #777;
      }

      #message-box {
          position: fixed;
          top: 0;
          left: 50%;
          transform: translateX(-50%) translateY(-100%);
          background-color: #28a745;
          color: white;
          padding: 12px 25px;
          border-radius: 0 0 8px 8px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
          z-index: 3000;
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out, transform 0.5s ease-in-out;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 10px;
      }

      #message-box.show {
          opacity: 1;
          visibility: visible;
          transform: translateX(-50%) translateY(0);
          animation: subtleShake 0.4s ease-in-out 0.5s 1;
      }

      @keyframes subtleShake {
          0% { transform: translateX(-50%) translateY(0); }
          25% { transform: translateX(-50%) translateY(0) translateX(-3px); }
          50% { transform: translateX(-50%) translateY(0) translateX(3px); }
          75% { transform: translateX(-50%) translateY(0) translateX(-2px); }
          100% { transform: translateX(-50%) translateY(0); }
      }

      .profile-menu-container {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1100;
          cursor: pointer;
      }

      .profile-icon {
          font-size: 2.5rem;
          color: #f2f2f2;
          transition: color 0.3s ease;
      }

      .profile-icon:hover {
          color: #d0d0d0;
      }

      .profile-dropdown {
          position: absolute;
          top: calc(100% + 10px);
          right: 0;
          background-color: rgba(26, 26, 26, 0.9);
          backdrop-filter: blur(5px);
          border-radius: 8px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
          min-width: 150px;
          display: flex;
          flex-direction: column;
          opacity: 0;
          visibility: hidden;
          transform: translateY(-10px);
          transition: opacity 0.3s ease-out, visibility 0.3s ease-out, transform 0.3s ease-out;
      }

      .profile-menu-container:hover .profile-dropdown {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
      }

      .dropdown-item {
          padding: 12px 15px;
          color: #f2f2f2;
          text-decoration: none;
          font-size: 1rem;
          font-weight: 500;
          transition: background-color 0.2s ease, color 0.2s ease;
          border-radius: 8px;
      }

      .dropdown-item:hover {
          background-color: #3a3a3a;
          color: #f2f2f2;
      }

      .profile-dropdown .dropdown-item:first-child {
          border-top-left-radius: 8px;
          border-top-right-radius: 8px;
      }

      .profile-dropdown .dropdown-item:last-child {
          border-bottom-left-radius: 8px;
          border-bottom-right-radius: 8px;
      }

      .auth-form-container {
          background-color: #2a2a2a;
          padding: 40px;
          border-radius: 12px;
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
          max-width: 450px;
          width: 90%;
          display: flex;
          flex-direction: column;
          gap: 20px;
          text-align: left;
      }

      .auth-form-container label {
          font-size: 1.1rem;
          font-weight: 600;
          color: #f2f2f2;
          margin-bottom: 5px;
          display: block;
      }

      .auth-form-container input[type="email"],
      .auth-form-container input[type="password"],
      .auth-form-container input[type="text"] {
          width: 100%;
          padding: 12px 15px;
          border: 1px solid #555;
          border-radius: 8px;
          background-color: #3a3a3a;
          color: #f2f2f2;
          font-size: 1rem;
          transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }

      .auth-form-container input[type="email"]:focus,
      .auth-form-container input[type="password"]:focus,
      .auth-form-container input[type="text"]:focus {
          border-color: #f2f2f2;
          outline: none;
          box-shadow: 0 0 0 3px rgba(242, 242, 242, 0.2);
      }

      .auth-form-container .form-link {
          color: #d0d0d0;
          text-decoration: none;
          font-size: 0.95rem;
          transition: color 0.2s ease;
      }

      .auth-form-container .form-link:hover {
          color: #f2f2f2;
      }

      .auth-form-container .shop-button {
          width: 100%;
          margin-top: 10px;
          padding: 12px 25px;
          font-size: 1.1rem;
      }

      .error-message {
          color: #ff6b6b;
          font-size: 0.9rem;
          margin-top: -10px;
          margin-bottom: 10px;
          text-align: center;
      }

      @keyframes slideInUpFadeIn {
          0% { opacity: 0; transform: translateY(20px); }
          100% { opacity: 1; transform: translateY(0); }
      }

      @keyframes fadeInUp {
          0% { opacity: 0; transform: translateY(20px); }
          100% { opacity: 1; transform: translateY(0); }
      }

      .animate-slide-in-up {
          animation: slideInUpFadeIn 0.6s ease-out forwards;
      }

      .product-card {
          opacity: 0;
          transform: translateY(20px);
          animation: fadeInUp 0.6s ease-out forwards;
      }

      #support-main .support-option-button {
          padding: 15px 30px;
          border-radius: 8px;
          font-family: 'Quicksand', sans-serif;
          font-size: 1.2rem;
          font-weight: 70;
          cursor: pointer;
          margin: 15px;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
          transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
          opacity: 0;
          animation: fadeInBlock 0.8s ease-out forwards;
          width: 90%;
          max-width: 300px;
      }

      #support-main .quick-easy-btn {
          background-color: #f2f2f2;
          color: #0f0f0f;
      }

      #support-main .quick-easy-btn:hover {
          background-color: #d0d0d0;
          transform: translateY(-3px);
          box-shadow: 0 0 25px 5px rgba(242, 242, 242, 0.7);
      }

      #support-main .advanced-support-btn {
          background-color: #3a3a3a;
          color: #f2f2f2;
          border: 1px solid #555;
      }

      #support-main .advanced-support-btn:hover {
          background-color: #555;
          transform: translateY(-3px);
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
      }

      #chat-interface {
          display: flex;
          flex-direction: column;
          height: calc(100vh - 100px);
          padding-bottom: 80px;
          position: relative;
      }

      #chat-messages {
          flex-grow: 1;
          overflow-y: auto;
          padding: 20px;
          display: flex;
          flex-direction: column;
          gap: 15px;
          -webkit-overflow-scrolling: touch;
      }

      .chat-message-bubble {
          max-width: 70%;
          padding: 12px 18px;
          border-radius: 20px;
          line-height: 1.5;
          word-wrap: break-word;
          opacity: 0;
          transform: translateY(20px);
          animation: slideInUpFadeIn 0.4s ease-out forwards;
      }

      .user-message {
          background-color: #007bff;
          color: white;
          align-self: flex-end;
          border-bottom-right-radius: 5px;
      }

      .bot-message {
          background-color: #2a2a2a;
          color: #f2f2f2;
          align-self: flex-start;
          border-bottom-left-radius: 5px;
          display: flex;
          align-items: flex-start;
          gap: 10px;
      }

      .bot-avatar {
          width: 30px;
          height: 30px;
          border-radius: 50%;
          background-color: #f2f2f2;
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 1.2rem;
          color: #0f0f0f;
          flex-shrink: 0;
      }

      #chat-input-container {
          position: fixed;
          bottom: 60px;
          left: 0;
          width: 100%;
          background: rgba(15, 15, 15, 0.9);
          backdrop-filter: blur(8px);
          padding: 15px 20px;
          display: flex;
          gap: 10px;
          box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
          z-index: 1000;
      }

      #chat-input {
          flex-grow: 1;
          padding: 12px 15px;
          border-radius: 25px;
          border: 1px solid #555;
          background-color: #3a3a3a;
          color: #f2f2f2;
          font-size: 1rem;
          outline: none;
          transition: border-color 0.3s ease;
      }

      #chat-input:focus {
          border-color: #f2f2f2;
      }

      #send-chat-btn {
          background-color: #007bff;
          color: white;
          border: none;
          border-radius: 25px;
          padding: 12px 20px;
          font-size: 1rem;
          cursor: pointer;
          transition: background-color 0.3s ease;
      }

      #send-chat-btn:hover {
          background-color: #0056b3;
      }

      #typing-indicator {
          align-self: flex-start;
          padding: 10px 15px;
          background-color: #2a2a2a;
          color: #f2f2f2;
          border-radius: 20px;
          font-style: italic;
          display: flex;
          align-items: center;
          gap: 8px;
          opacity: 0;
          transform: translateY(20px);
          animation: slideInUpFadeIn 0.4s ease-out forwards;
      }

      .dot-pulse {
          width: 8px;
          height: 8px;
          background-color: #f2f2f2;
          border-radius: 50%;
          animation: dotPulse 1.2s infinite ease-in-out;
      }
      .dot-pulse:nth-child(2) { animation-delay: 0.2s; }
      .dot-pulse:nth-child(3) { animation-delay: 0.4s; }

      @keyframes dotPulse {
          0%, 100% { transform: scale(0.8); opacity: 0.5; }
          50% { transform: scale(1.2); opacity: 1; }
      }


      @media (max-width: 767px) {
        /* Hide desktop navigation on mobile */
        nav {
            display: none;
        }

        /* Show hamburger icon on mobile */
        .hamburger-menu-icon {
            display: block;
        }

        /* Adjust profile menu for mobile if needed, currently it's fine */
        .profile-menu-container {
            top: 20px;
            right: 20px;
        }

        .modal-content {
          padding: 20px;
          width: 95%;
        }
        .modal-title {
          font-size: 1.8rem;
        }
        .modal-total {
          font-size: 1.5rem;
        }
        .payment-methods label {
          font-size: 1rem;
        }
        .place-order-btn {
          font-size: 1.1rem;
          padding: 12px 25px;
        }
        .tagline {
            font-size: 2.5rem;
        }
        .info-title {
            font-size: 2rem;
        }
        .info-content {
            font-size: 1rem;
        }
        #item-detail-page-content {
            flex-direction: column;
        }
        .item-detail-left, .item-detail-right {
            width: 100%;
        }
        .item-detail-name {
            font-size: 2rem;
        }
        .item-detail-price {
            font-size: 1.5rem;
        }
        .profile-icon {
            font-size: 2rem;
        }
        .profile-dropdown {
            min-width: 120px;
        }
        .dropdown-item {
            padding: 10px 12px;
            font-size: 0.9rem;
        }
        .auth-form-container {
            padding: 25px;
            gap: 15px;
        }
        .auth-form-container label {
            font-size: 1rem;
        }
        .auth-form-container input {
            padding: 10px 12px;
            font-size: 0.9rem;
        }
        .auth-form-container .shop-button {
            font-size: 1rem;
            padding: 10px 20px;
        }
        #chat-input-container {
            bottom: 0;
            padding: 10px;
        }
        #chat-input, #send-chat-btn {
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        .chat-message-bubble {
            max-width: 90%;
        }
        #chat-interface {
            padding-bottom: 60px;
        }
      }
    </style>
  </head>
  <body>
    <div id="transitionOverlay" class="transition-overlay"></div>
    <div id="message-box" role="alert">
        <i class="fas fa-check-circle"></i>
        <span id="message-text"></span>
    </div>

    <!-- Hamburger Menu Icon (Mobile Only) -->
    <div class="hamburger-menu-icon" id="hamburgerIcon">
        <i class="fas fa-bars"></i>
    </div>

    <!-- Profile Menu Container -->
    <div class="profile-menu-container">
        <div class="profile-icon">
            <i class="fas fa-user-circle"></i>
        </div>
        <div class="profile-dropdown">
            <a href="#sign-in-main" class="dropdown-item">Sign In</a>
            <a href="#sign-up-main" class="dropdown-item">Sign Up</a>
        </div>
    </div>

    <!-- Mobile Navigation Overlay -->
    <div id="mobile-nav-overlay">
        <button class="close-btn" id="mobileNavCloseBtn">&times;</button>
        <ul>
            <li data-page-id="home-main" class="mobile-nav-item"><a href="#home-main">Home</a></li>
            <li data-page-id="shop-page" class="mobile-nav-item"><a href="#shop-page">Shop</a></li>
            <li data-page-id="about-us-main" class="mobile-nav-item"><a href="#about-us-main">About Us</a></li>
            <li data-page-id="cart-main" class="mobile-nav-item"><a href="#cart-main">Cart</a></li>
            <li data-page-id="contact-main" class="mobile-nav-item"><a href="#contact-main">Contact</a></li>
            <li data-page-id="support-main" id="mobile-support-nav-item" class="mobile-nav-item"><a href="#support-main">Support</a></li>
            <li data-page-id="settings-main" class="mobile-nav-item"><a href="#settings-main">Settings</a></li>
        </ul>
    </div>

    <section id="intro-section">
      <div class="logo"></div>
      <div class="tagline" id="mainTagline">Ultre is coming.</div>
      <button class="shop-button" id="shopButton" style="animation-delay: 2.8s;">Head to the shop.</button>
    </section>

    <div id="main-website-content-wrapper" class="hidden-content">
      <section id="home-main" class="active-page">
        <div class="info-title">Welcome to Ultre!</div>
        <div class="info-content">
          Your journey into minimalist style and timeless energy starts here.
          Explore our collections and discover pieces designed for those who move different.
        </div>
      </section>

      <section id="shop-page">
          <div class="info-title">Welcome to the Shop!</div>
          <div id="shop-content" class="w-full max-w-4xl mx-auto p-4">
              <div id="loading-indicator" class="text-gray-400 text-lg">Loading items...</div>
              <div id="status-message" class="text-yellow-400 text-lg my-4"></div>
              <div id="no-stock-message" class="hidden text-gray-400 text-lg flex flex-col items-center justify-center py-10">
                  <span class="text-6xl mb-4">üòî</span>
                  There isn't anything in stock right now, check again soon!
              </div>
              <div id="items-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
              </div>
          </div>
      </section>

      <section id="item-detail-page">
          <div class="info-title">Product Details</div>
          <div id="item-detail-page-content">
              <div class="item-detail-left">
                  <img id="detail-item-image" src="" alt="Product Image" class="item-detail-image">
                  <h3 id="detail-item-name" class="item-detail-name"></h3>
                  <p id="detail-item-price" class="item-detail-price"></p>
                  <div class="size-selector w-full max-w-[300px] text-left">
                      <label for="item-size" class="block text-gray-300 font-semibold mb-2">Select Size:</label>
                      <select id="item-size" class="w-full p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:outline-none focus:border-white">
                          <option value="S">Small</option>
                          <option value="M">Medium</option>
                          <option value="L">Large</option>
                          <option value="XL">X-Large</option>
                          <option value="XXL">XX-Large</option>
                      </select>
                  </div>
                  <button id="detail-add-to-cart-btn" class="shop-button w-full">Add to Cart</button>
              </div>
              <div class="item-detail-right">
                  <p id="detail-item-description" class="item-detail-description"></p>
              </div>
          </div>
          <button id="back-to-shop-btn" class="back-to-shop-btn">‚Üê Back to Shop</button>
      </section>

      <section id="about-us-main">
        <div class="info-title">About Us</div>
        <div class="info-content" id="aboutUsContent">
          Ultre isn‚Äôt just a brand ‚Äî it‚Äôs a mindset. Rooted in simplicity, built for the bold.
          We believe in creating essential pieces that resonate with those who value authenticity and understated strength.
          <br><br>
          No loud flex, no trend chasing. Just timeless energy and pieces that bring the "you" out of you.
          Our designs are inspired by a minimalist aesthetic, focusing on clean lines and versatile pieces that fit seamlessly into any lifestyle.
          <br><br>
          Crafted for the ones who move different. Designed to last, not just be seen.
          We prioritize quality materials and meticulous attention to detail, ensuring every Ultre item stands the test of time.
          <br><br>
          We take many minutes and hours out of our days to bring you all the clothing and quality you deserve with a price that can put a smile on your face.
          Join us on our journey to make a new era of affordable and stylish clothing.
        </div>
      </section>

      <section id="cart-main">
        <div class="info-title">Your Cart</div>
        <div id="cart-content" class="w-full max-w-4xl mx-auto p-4">
            <div id="empty-cart-message" class="text-gray-400 text-lg hidden flex flex-col items-center justify-center py-10">
                <span class="text-6xl mb-4">üõí</span>
                Your cart is currently empty. Start shopping to add some Ultre essentials!
            </div>
            <div id="cart-items-list" class="space-y-4 text-left">
            </div>
            <div id="cart-total" class="mt-8 text-right text-2xl font-bold text-white hidden">
                Total: $<span id="total-amount">0.00</span>
            </div>
            <button id="checkout-btn" class="shop-button hidden w-full mt-8">Proceed to Checkout</button>
        </div>
      </section>

      <section id="contact-main">
        <div class="info-title">Get in Touch</div>
        <div class="info-content">
          We make essentials. Not extras. Wear it like you mean it.
          For inquiries or collaborations, feel free to reach out to us.
          <div class="contact-details">
            Email: <a href="mailto:info@ultre.com">info@ultre.com</a><br>
            Follow us on social media! (Links coming soon)
          </div>
        </div>
      </section>

      <section id="sign-in-main">
          <div class="info-title">Sign In</div>
          <div class="auth-form-container">
              <div id="signin-error-message" class="error-message hidden"></div>
              <div>
                  <label for="signin-email">Email:</label>
                  <input type="email" id="signin-email" placeholder="your@example.com" required>
              </div>
              <div>
                  <label for="signin-password">Password:</label>
                  <input type="password" id="signin-password" placeholder="********" required>
              </div>
              <a href="#" class="form-link text-right">Forgot Password?</a>
              <button id="signin-btn" class="shop-button">Sign In</button>
              <p class="text-center text-gray-400 text-sm">
                  Don't have an account? <a href="#sign-up-main" class="form-link">Sign Up</a>
              </p>
          </div>
      </section>

      <section id="sign-up-main">
          <div class="info-title">Sign Up</div>
          <div class="auth-form-container">
              <div id="signup-error-message" class="error-message hidden"></div>
              <div>
                  <label for="signup-email">Email:</label>
                  <input type="email" id="signup-email" placeholder="your@example.com" required>
              </div>
              <div>
                  <label for="signup-password">Password:</label>
                  <input type="password" id="signup-password" placeholder="********" required>
              </div>
              <div>
                  <label for="signup-confirm-password">Confirm Password:</label>
                  <input type="password" id="signup-confirm-password" placeholder="********" required>
              </div>
              <button id="signup-btn" class="shop-button">Sign Up</button>
              <p class="text-center text-gray-400 text-sm">
                  Already have an account? <a href="#sign-in-main" class="form-link">Sign In</a>
              </p>
          </div>
      </section>

      <section id="onboarding-main">
          <div class="info-title" id="onboarding-title"></div>
          <div class="auth-form-container">
              <div id="onboarding-error-message" class="error-message hidden"></div>
              <div>
                  <label for="onboarding-first-name">First Name:</label>
                  <input type="text" id="onboarding-first-name" placeholder="Your First Name" required>
              </div>
              <div>
                  <label for="onboarding-last-name">Last Name:</label>
                  <input type="text" id="onboarding-last-name" placeholder="Your Last Name" required>
              </div>
              <button id="onboarding-save-btn" class="shop-button">Save My Name</button>
          </div>
      </section>

      <section id="support-main">
          <div class="info-title" id="supportQuestion"></div>
          <button id="quickEasyBtn" class="support-option-button quick-easy-btn">Quick and Easy (AI)</button>
          <button id="advancedSupportBtn" class="support-option-button advanced-support-btn">Advanced Support (Mail)</button>
          <button id="backToMainSiteBtn" class="shop-button mt-10">Head to the Shop</button>
      </section>

      <section id="chat-interface">
          <div class="info-title">Chat with UltreBot!</div>
          <div id="chat-messages">
              
          </div>
          <div id="chat-input-container">
              <input type="text" id="chat-input" placeholder="Type your message...">
              <button id="send-chat-btn">Send</button>
          </div>
      </section>

      <section id="settings-main">
          <div class="info-title">Settings</div>
          <div class="w-full max-w-7xl mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden flex flex-col lg:flex-row flex-grow">

              <div class="w-full lg:w-1/4 bg-gray-900 border-r border-gray-700 p-6 space-y-2 flex-shrink-0">
                  <h2 class="text-xl font-semibold text-white mb-4">Categories</h2>
                  <nav class="space-y-1">
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="general">General</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="accessibility">Accessibility</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="privacy">Privacy</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="visuals">Visuals</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="payment-method">Payment Method</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="notifications">Notifications</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="security">Security</a>
                      <a href="#" class="block px-4 py-2 text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition duration-200 ease-in-out font-medium settings-nav-link" data-setting-category="integrations">Integrations</a>
                  </nav>
              </div>

              <div class="w-full lg:w-3/4 p-6 flex flex-col flex-grow">
                  <h2 class="text-2xl font-bold text-white mb-6" id="settings-content-title">Select a Category</h2>
                  <div id="settings-content-area" class="space-y-6 flex-grow">
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-2">Welcome to your settings!</p>
                          <p>Please select a category from the left to view and adjust your preferences.</p>
                      </div>
                  </div>
              </div>
          </div>
      </section>

      <footer>
        &copy; 2025 Ultre. All rights reserved.
      </footer>

      <nav>
        <div id="nav-indicator"></div>
        <ul>
          <li data-page-id="home-main" class="main-nav-item"><a href="#home-main"><i class="fas fa-home"></i> Home</a></li>
          <li data-page-id="shop-page" class="main-nav-item"><a href="#shop-page"><i class="fas fa-store"></i> Shop</a></li>
          <li data-page-id="about-us-main" class="main-nav-item"><a href="#about-us-main"><i class="fas fa-info-circle"></i> About Us</a></li>
          <li data-page-id="cart-main" class="main-nav-item"><a href="#cart-main"><i class="fas fa-shopping-cart"></i> Cart</a></li>
          <li data-page-id="contact-main" class="main-nav-item"><a href="#contact-main"><i class="fas fa-envelope"></i> Contact</a></li>
          <li data-page-id="support-main" id="support-nav-item"><a href="#support-main"><i class="fas fa-life-ring"></i> Support</a></li>
          <li data-page-id="settings-main" class="main-nav-item"><a href="#settings-main"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
      </nav>
    </div>

    <div id="checkout-modal-overlay" class="modal-overlay">
      <div class="modal-content">
        <button class="modal-close-btn" id="modal-close-btn">&times;</button>
        <div class="modal-title">Checkout</div>
        <div class="modal-body">
          <p class="modal-total">Your Total: $<span id="modal-total-amount">0.00</span></p>
          <div class="payment-methods text-left">
            <p class="text-lg font-semibold mb-3">Select Payment Method:</p>
            <label>
              <input type="radio" name="payment-method" value="credit-card" checked>
              <i class="fas fa-credit-card"></i> Credit Card (Simulated)
            </label>
            <label>
              <input type="radio" name="payment-method" value="paypal">
              <i class="fab fa-paypal"></i> PayPal (Simulated)
            </label>
            <label>
              <input type="radio" name="payment-method" value="apple-pay">
              <i class="fab fa-apple-pay"></i> Apple Pay (Simulated)
            </label>
          </div>
          <button class="place-order-btn" id="place-order-btn">Place Order</button>
          <p id="order-confirmation-message" class="text-green-400 text-lg mt-4 hidden">Thank You for your order!</p>
        </div>
      </div>
    </div>

    <script>
      const PRINTIFY_API_KEY = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzN2Q0YmQzMDM1ZmUxMWU5YTgwM2FiN2VlYjNjY2M5NyIsImp0aSI6IjYxODFiN2NiNWY3NmZjMmU1ZmEzMDBiNjU5NTRlOTYyN2UzMTk5NTJjMWFkZGIwMGQ0N2UwMzFiOTdkMTk2YzM2NTcyMWJlYTE1YzE1OGQ4IiwiaWF0IjoxNzUyNDk3MzQ3LjUzOTAzMywibmJmIjoxNzUyNDk3MzQ3LjUzOTM1MiwiZXhwIjoxNzg0MDMzMzQ3LjUyOTg1Niwic3ViIjoiMjM2MjgyMzEiLCJzY29wZXMianMiOiJzaG9wcy5tYW5hZ2UiLCJzaG9wcy5yZWFkIiwiY2F0YWxvZy5yZWFkIiwib3JkZXJzLnJlYWQiLCJvcmRlcnMud3JpdGUiLCJwcm9kdWN0cy5yZWFkIiwicHJvZHVjdHMud3JpdGUiLCJ3ZWJoY29va3MucmVhZCIsIndlYmhvb2tzLndyaXRlIiwidXBsb2Fkcy5yZWFkIiwidXBsb2Fkcy53cml0ZSIsInByaW50X3Byb3ZpZGVycy5yZWFkIiwidXNlci5pbmZvIl19.uEApTE90qYMKYPMpu8B6Uo44ZdVFtQSOnWeDs3SGKXjkR-F9pqNmPGa8u7j-jb__skJLleadd9ZsV-ebb8Tw4hGeBO7TKU0F0yJT0L8swLAcGITpcd2tQHK9ypQ0J1uUKQIoaBFDixJPdpOKf5hjU8e98DbOlyxIVMO0TfmCD4wGmVRMpqtb7RKhtjV_an3f5A0Xx8mRBJQPEWqC9T0FsTZKQfJzFQA2JG_TNpkkxiVJuYOlNtrVNbR0U7pe4wGqpE8OAf9_y5CXrL3jamre6LVwpbIlwwfIcXGjzQ2S2E5YvB-UOLNq8NejM-cZoB7r7JElQt3c4MRuJWrjiqs1Q6WP1YLbllswaVbB8QWv_kbc22oVutRhtUWyu1IiDlhF3vWtKpZeaHJfIH8h0Jpq9nDuE-fp3hHJhSRFBV8urGHaP8zv08c3Qu9F2pSVHJInJs7zwgPru3syz3eSkDjn1FqyQu1YsXzwq10W5kjVBgEWRgihT-k2GkjCv0uMVTLF2zQfavqhD3b-8GUhIv9-L2n';
      const PRINTIFY_API_BASE_URL = 'https://api.printify.com/v1';

      const DEEPSEEK_API_KEY = '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';
      const DEEPSEEK_API_URL = 'https://api.deepseek.com/v1/chat/completions';


      const introSection = document.getElementById('intro-section');
      const mainWebsiteContentWrapper = document.getElementById('main-website-content-wrapper');
      const shopButton = document.getElementById('shopButton');
      const transitionOverlay = document.getElementById('transitionOverlay');

      const loadingIndicator = document.getElementById('loading-indicator');
      const noStockMessage = document.getElementById('no-stock-message');
      const statusMessageElement = document.getElementById('status-message');
      const itemsGrid = document.getElementById('items-grid');

      const emptyCartMessage = document.getElementById('empty-cart-message');
      const cartItemsList = document.getElementById('cart-items-list');
      const cartTotalElement = document.getElementById('cart-total');
      const totalAmountElement = document.getElementById('total-amount');
      const checkoutButton = document.getElementById('checkout-btn');

      const checkoutModalOverlay = document.getElementById('checkout-modal-overlay');
      const modalCloseBtn = document.getElementById('modal-close-btn');
      const modalTotalAmount = document.getElementById('modal-total-amount');
      const placeOrderBtn = document.getElementById('place-order-btn');
      const orderConfirmationMessage = document.getElementById('order-confirmation-message');

      const itemDetailPage = document.getElementById('item-detail-page');
      const detailItemImage = document.getElementById('detail-item-image');
      const detailItemName = document.getElementById('detail-item-name');
      const detailItemPrice = document.getElementById('detail-item-price');
      const detailItemDescription = document.getElementById('detail-item-description');
      const detailAddToCartBtn = document.getElementById('detail-add-to-cart-btn');
      const backToShopBtn = document.getElementById('back-to-shop-btn');
      const itemSizeSelect = document.getElementById('item-size');

      const navIndicator = document.getElementById('nav-indicator');
      const navLinks = document.querySelectorAll('nav ul li');
      const mainNavItems = document.querySelectorAll('nav ul li.main-nav-item');
      const supportNavItem = document.getElementById('support-nav-item');

      const messageBox = document.getElementById('message-box');
      const messageText = document.getElementById('message-text');

      const signInPage = document.getElementById('sign-in-main');
      const signUpPage = document.getElementById('sign-up-main');
      const signInEmailInput = document.getElementById('signin-email');
      const signInPasswordInput = document.getElementById('signin-password');
      const signInBtn = document.getElementById('signin-btn');
      const signInErrorMessage = document.getElementById('signin-error-message');
      const signUpEmailInput = document.getElementById('signup-email');
      const signUpPasswordInput = document.getElementById('signup-password');
      const signUpConfirmPasswordInput = document.getElementById('signup-confirm-password');
      const signUpBtn = document.getElementById('signup-btn');
      const signUpErrorMessage = document.getElementById('signup-error-message');

      const onboardingPage = document.getElementById('onboarding-main');
      const onboardingTitle = document.getElementById('onboarding-title');
      const onboardingFirstNameInput = document.getElementById('onboarding-first-name');
      const onboardingLastNameInput = document.getElementById('onboarding-last-name');
      const onboardingSaveBtn = document.getElementById('onboarding-save-btn');
      const onboardingErrorMessage = document.getElementById('onboarding-error-message');

      const supportMain = document.getElementById('support-main');
      const supportQuestion = document.getElementById('supportQuestion');
      const quickEasyBtn = document.getElementById('quickEasyBtn');
      const advancedSupportBtn = document.getElementById('advancedSupportBtn');
      const backToMainSiteBtn = document.getElementById('backToMainSiteBtn');

      const chatInterface = document.getElementById('chat-interface');
      const chatMessages = document.getElementById('chat-messages');
      const chatInput = document.getElementById('chat-input');
      const sendChatBtn = document.getElementById('send-chat-btn');
      let isBotTyping = false;
      let chatHistory = [{ role: "system", content: "You are UltreBot, a helpful assistant for the Ultre clothing brand. You answer questions about products, orders, and general inquiries. Keep responses concise and friendly." }];

      const settingsMain = document.getElementById('settings-main');
      const settingsContentTitle = document.getElementById('settings-content-title');
      const settingsContentArea = document.getElementById('settings-content-area');
      const settingsNavLinks = document.querySelectorAll('.settings-nav-link');

      const hamburgerIcon = document.getElementById('hamburgerIcon');
      const mobileNavOverlay = document.getElementById('mobile-nav-overlay');
      const mobileNavCloseBtn = document.getElementById('mobileNavCloseBtn');
      const mobileNavItems = document.querySelectorAll('#mobile-nav-overlay .mobile-nav-item');


      let cart = {};
      let currentActiveNavLinkLi = null;
      let isNavigating = false;
      let supportMode = false;

      const localClothingItems = [
        { id: 'tee', name: "Minimalist Tee", price: 35.00, imageUrl: "https://placehold.co/300x300/333333/FFFFFF?text=Tee", description: "Our classic minimalist tee, designed for comfort and style. Made from 100% organic cotton, it's perfect for everyday wear. Available in various sizes." },
        { id: 'hoodie', name: "Essential Hoodie", price: 65.00, imageUrl: "https://placehold.co/300x300/555555/FFFFFF?text=Hoodie", description: "Stay warm and stylish with our essential hoodie. Crafted from a soft fleece blend, featuring a subtle Ultre logo. Ideal for cooler days." },
        { id: 'joggers', name: "Core Joggers", price: 50.00, imageUrl: "https://placehold.co/300x300/777777/FFFFFF?text=Joggers", description: "Comfortable and versatile core joggers, perfect for lounging or light activity. Designed with a modern tapered fit and elastic waistband." },
        { id: 'cap', name: "Urban Cap", price: 25.00, imageUrl: "https://placehold.co/300x300/999999/FFFFFF?text=Cap", description: "Complete your look with our urban cap. A classic design with an adjustable strap for the perfect fit. Features a discreet embroidered detail." },
        { id: 'socks', name: "Signature Socks", price: 15.00, imageUrl: "https://placehold.co/300x300/AAAAAA/FFFFFF?text=Socks", description: "Step up your sock game with our signature socks. Soft, breathable, and designed for all-day comfort. Comes in a pack of three." },
      ];

      function splitAndAnimateLetters(elementId, baseDelay = 0) {
        const element = document.getElementById(elementId);
        if (!element) return;

        const text = element.textContent;
        element.textContent = '';

        const fragment = document.createDocumentFragment();

        for (let i = 0; i < text.length; i++) {
          const char = text[i];
          const span = document.createElement('span');
          span.textContent = char;
          span.classList.add('animated-letter');
          if (char === ' ') {
            span.classList.add('space');
          }
          span.style.animationDelay = `${baseDelay + (i * 0.02)}s`;
          fragment.appendChild(span);
        }
        element.appendChild(fragment);
      }

      function animateBlock(elementId, delay) {
        const element = typeof elementId === 'string' ? document.getElementById(elementId) : elementId;
        if (element) {
          element.style.animationDelay = `${delay}s`;
        }
      }

      function typeMessage(element, message, callback, delay = 70) {
        let i = 0;
        element.textContent = '';
        element.classList.remove('animate-slide-in-up');
        const interval = setInterval(() => {
          if (i < message.length) {
            element.textContent += message.charAt(i);
            i++;
          } else {
            clearInterval(interval);
            element.classList.add('animate-slide-in-up');
            if (callback) setTimeout(callback, 500);
          }
        }, delay);
      }

      function showMessageBox(message, duration = 3000, isError = false) {
          messageText.textContent = message;
          messageBox.classList.remove('bg-red-600', 'bg-green-600');
          messageBox.classList.add(isError ? 'bg-red-600' : 'bg-green-600');
          messageBox.querySelector('i').className = isError ? 'fas fa-times-circle' : 'fas fa-check-circle';

          messageBox.classList.add('show');

          setTimeout(() => {
              messageBox.classList.remove('show');
          }, duration);
      }

      async function fetchPrintifyShops() {
          try {
              const response = await fetch(`${PRINTIFY_API_BASE_URL}/shops.json`, {
                  headers: {
                      'Authorization': `Bearer ${PRINTIFY_API_KEY}`
                  }
              });
              if (!response.ok) {
                  throw new Error(`HTTP error! status: ${response.status}`);
              }
              const data = await response.json();
              if (data.length > 0) {
                  return data[0].id;
              }
              return null;
          } catch (error) {
              console.error("Error fetching Printify shops:", error);
              throw error;
          }
      }

      async function renderShopItems() {
        loadingIndicator.classList.remove('hidden');
        loadingIndicator.classList.add('animate-slide-in-up');
        itemsGrid.innerHTML = '';
        noStockMessage.classList.add('hidden');
        statusMessageElement.classList.add('hidden');

        let productsToRender = [];

        try {
            const shopId = await fetchPrintifyShops();
            if (shopId) {
                const response = await fetch(`${PRINTIFY_API_BASE_URL}/shops/${shopId}/products.json`, {
                    headers: {
                        'Authorization': `Bearer ${PRINTIFY_API_KEY}`
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                productsToRender = data.data;
            } else {
                throw new Error("No Printify shop found.");
            }
        } catch (error) {
            console.error("Failed to fetch from Printify, falling back to local data:", error);
            loadingIndicator.classList.remove('animate-slide-in-up');
            loadingIndicator.classList.add('hidden');
            statusMessageElement.classList.remove('hidden');
            await new Promise(resolve => {
                typeMessage(statusMessageElement, "Couldn't connect, fetching local data...", () => {
                    statusMessageElement.textContent = '';
                    statusMessageElement.classList.add('hidden');
                    statusMessageElement.classList.remove('animate-slide-in-up');
                    resolve();
                });
            });
            productsToRender = localClothingItems;
        } finally {
            loadingIndicator.classList.add('hidden');
            loadingIndicator.classList.remove('animate-slide-in-up');

            if (!productsToRender || productsToRender.length === 0) {
              noStockMessage.classList.remove('hidden');
              noStockMessage.classList.add('animate-slide-in-up');
            } else {
              productsToRender.forEach((item, index) => {
                const imageUrl = item.images && item.images.length > 0 ? item.images[0].src : item.imageUrl || 'https://placehold.co/300x300/CCCCCC/000000?text=No+Image';
                const price = item.price ? (item.price / 100).toFixed(2) : item.price.toFixed(2);
                const description = item.description || "A high-quality item from Ultre. Designed for comfort and durability.";

                const itemCard = document.createElement('div');
                itemCard.className = 'bg-gray-800 rounded-lg shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105 flex flex-col cursor-pointer product-card';
                itemCard.style.animationDelay = `${0.1 * index}s`;
                itemCard.dataset.itemId = item.id;
                itemCard.dataset.itemName = item.title || item.name;
                itemCard.dataset.itemPrice = item.price;
                itemCard.dataset.itemImage = imageUrl;
                itemCard.dataset.itemDescription = description;

                itemCard.innerHTML = `
                  <img src="${imageUrl}" alt="${item.title || item.name}" class="w-full h-48 object-cover">
                  <div class="p-4 flex flex-col justify-between flex-grow">
                    <h3 class="text-xl font-semibold text-white mb-2">${item.title || item.name}</h3>
                    <p class="text-gray-300 text-lg mb-4">$${price}</p>
                    <button class="add-to-cart-btn mt-auto bg-white text-gray-900 font-bold py-2 px-4 rounded-md hover:bg-gray-200 transition-colors" data-item-id="${item.id}" data-item-name="${item.title || item.name}" data-item-price="${item.price}" data-item-image="${imageUrl}">Add to Cart</button>
                  </div>
                `;
                itemsGrid.appendChild(itemCard);
              });

              document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                  event.stopPropagation();
                  const itemId = event.target.dataset.itemId;
                  const itemName = event.target.dataset.itemName;
                  const itemPrice = parseFloat(event.target.dataset.itemPrice);
                  const itemImage = event.target.dataset.itemImage;
                  addToCart({ id: itemId, name: itemName, price: itemPrice, imageUrl: itemImage, size: 'M' });
                  showMessageBox(`${itemName} (Size: M) has successfully been added to cart!`);
                });
              });

              document.querySelectorAll('.product-card').forEach(card => {
                  card.addEventListener('click', (event) => {
                      const itemId = card.dataset.itemId;
                      const itemName = card.dataset.itemName;
                      const itemPrice = parseFloat(card.dataset.itemPrice);
                      const itemImage = card.dataset.itemImage;
                      const itemDescription = card.dataset.itemDescription;
                      showItemDetail({ id: itemId, name: itemName, price: itemPrice, imageUrl: itemImage, description: itemDescription });
                  });
              });
            }
        }
      }

      function addToCart(item) {
        const cartKey = `${item.id}-${item.size}`;
        if (cart[cartKey]) {
          cart[cartKey].quantity++;
        } else {
          cart[cartKey] = { ...item, quantity: 1 };
        }
        renderCart();
      }

      function updateCartQuantity(cartKey, change) {
        if (cart[cartKey]) {
          cart[cartKey].quantity += change;
          if (cart[cartKey].quantity <= 0) {
            delete cart[cartKey];
          }
        }
        renderCart();
      }

      function renderCart() {
        cartItemsList.innerHTML = '';
        let total = 0;
        const itemKeysInCart = Object.keys(cart);

        if (itemKeysInCart.length === 0) {
          emptyCartMessage.classList.remove('hidden');
          cartTotalElement.classList.add('hidden');
          checkoutButton.classList.add('hidden');
        } else {
          emptyCartMessage.classList.add('hidden');
          cartTotalElement.classList.remove('hidden');
          checkoutButton.classList.remove('hidden');

          itemKeysInCart.forEach(cartKey => {
            const item = cart[cartKey];
            const itemPriceDisplay = (item.price / (item.price > 1000 ? 100 : 1)).toFixed(2);
            const itemTotal = ((item.price / (item.price > 1000 ? 100 : 1)) * item.quantity).toFixed(2);

            const itemElement = document.createElement('div');
            itemElement.className = 'flex items-center justify-between bg-gray-800 p-4 rounded-lg shadow-md';
            itemElement.innerHTML = `
              <div class="flex items-center space-x-4">
                <img src="${item.imageUrl}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md">
                <div>
                  <h4 class="text-lg font-semibold text-white">${item.name}</h4>
                  <p class="text-gray-400">$${itemPriceDisplay} x ${item.quantity} ${item.size ? `(Size: ${item.size})` : ''} = $${itemTotal}</p>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <button class="quantity-btn bg-gray-700 text-white px-3 py-1 rounded-md hover:bg-gray-600" data-cart-key="${cartKey}" data-change="-1">-</button>
                <span class="text-white">${item.quantity}</span>
                <button class="quantity-btn bg-gray-700 text-white px-3 py-1 rounded-md hover:bg-gray-600" data-cart-key="${cartKey}" data-change="1">+</button>
                <button class="remove-from-cart-btn bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700" data-cart-key="${cartKey}">Remove</button>
              </div>
            `;
            cartItemsList.appendChild(itemElement);
            total += (item.price / (item.price > 1000 ? 100 : 1)) * item.quantity;
          });

          document.querySelectorAll('#cart-items-list .quantity-btn').forEach(button => {
            button.addEventListener('click', (event) => {
              const cartKey = event.target.dataset.cartKey;
              const change = parseInt(event.target.dataset.change);
              updateCartQuantity(cartKey, change);
            });
          });

          document.querySelectorAll('#cart-items-list .remove-from-cart-btn').forEach(button => {
            button.addEventListener('click', (event) => {
              const cartKey = event.target.dataset.cartKey;
              delete cart[cartKey];
              renderCart();
            });
          });
        }
        totalAmountElement.textContent = total.toFixed(2);
        modalTotalAmount.textContent = total.toFixed(2);
      }

     function updateNavIndicator(activePageId) {
    const newActiveNavLinkLi = document.querySelector(`nav ul li[data-page-id="${activePageId}"]`);

    if (!newActiveNavLinkLi || newActiveNavLinkLi === currentActiveNavLinkLi || isNavigating) {
        return;
    }

    isNavigating = true;

    // Remove active class from all links
    document.querySelectorAll('nav ul li a').forEach(link => {
        link.classList.remove('active-nav-link');
    });

    const navRect = newActiveNavLinkLi.closest('nav').getBoundingClientRect();
    const liRect = newActiveNavLinkLi.getBoundingClientRect();
    const activeAnchor = newActiveNavLinkLi.querySelector('a');

    if (activeAnchor) {
        activeAnchor.classList.add('active-nav-link');
    }

    const paddingX = 8;
    const paddingY = 4;
    const targetWidth = liRect.width + paddingX * 2;
    const targetHeight = liRect.height + paddingY * 2;
    const targetLeft = liRect.left - navRect.left - paddingX;
    const targetTop = liRect.top - navRect.top - paddingY;

    const currentLeft = navIndicator.offsetLeft;
    const currentWidth = navIndicator.offsetWidth;
    const currentTop = navIndicator.offsetTop;
    const currentHeight = navIndicator.offsetHeight;

    if (currentActiveNavLinkLi) {
        navIndicator.style.left = `${currentLeft}px`;
        navIndicator.style.top = `${currentTop}px`;
        navIndicator.style.width = `${currentWidth}px`;
        navIndicator.style.height = `${currentHeight}px`;
        navIndicator.style.opacity = '1';

        void navIndicator.offsetWidth;

        const currentRight = currentLeft + currentWidth;
        const targetRight = targetLeft + targetWidth;

        const minLeft = Math.min(currentLeft, targetLeft);
        const maxRight = Math.max(currentRight, targetRight);
        const stretchedWidth = maxRight - minLeft;

        navIndicator.style.left = `${minLeft}px`;
        navIndicator.style.width = `${stretchedWidth}px`;
        navIndicator.style.top = `${targetTop}px`;
        navIndicator.style.height = `${targetHeight}px`;

        navIndicator.ontransitionend = () => {
            navIndicator.ontransitionend = null;

            navIndicator.style.left = `${targetLeft}px`;
            navIndicator.style.width = `${targetWidth}px`;
            navIndicator.style.height = `${targetHeight}px`;

            isNavigating = false;
        };
    } else {
        navIndicator.style.left = `${targetLeft}px`;
        navIndicator.style.top = `${targetTop}px`;
        navIndicator.style.width = `${targetWidth}px`;
        navIndicator.style.height = `${targetHeight}px`;
        navIndicator.style.opacity = '1';
        isNavigating = false;
    }

        currentActiveNavLinkLi = newActiveNavLinkLi;
    }

      function updateNavBarVisibility(inSupportMode) {
          mainNavItems.forEach(item => {
              item.classList.add('hidden');
          });

          mobileNavItems.forEach(item => {
              if (inSupportMode) {
                  if (item.id === 'mobile-support-nav-item') {
                      item.classList.remove('hidden');
                  } else {
                      item.classList.add('hidden');
                  }
              } else {
                  item.classList.remove('hidden');
              }
          });
      }


      function showPage(pageId, callback = null) {
        const allMainSections = document.querySelectorAll('#main-website-content-wrapper > section');
        allMainSections.forEach(section => {
          section.classList.remove('active-page');
        });

        const targetPage = document.getElementById(pageId);
        if (targetPage) {
          targetPage.classList.add('active-page');
          window.scrollTo(0, 0);

          const newSupportMode = (pageId === 'support-main' || pageId === 'chat-interface');
          if (newSupportMode !== supportMode) {
              supportMode = newSupportMode;
              if (window.innerWidth < 768) {
                  updateNavBarVisibility(supportMode);
              }
          }

          if (pageId === 'shop-page') {
            renderShopItems();
          } else if (pageId === 'cart-main') {
            renderCart();
          } else if (pageId === 'onboarding-main') {
              typeMessage(onboardingTitle, "What should we call you?", callback);
          } else if (pageId === 'support-main') {
              typeMessage(supportQuestion, "What type of support do you need?", callback);
          } else if (pageId === 'chat-interface') {
              displayChatMessage("Hey, I‚Äôm UltreBot ‚Äî what do you need help with today?", 'bot');
              chatInput.focus();
          } else if (pageId === 'settings-main') {
              updateSettingsContent('general');
          }

          if (window.innerWidth >= 768) {
              updateNavIndicator(pageId);
          }
          mobileNavOverlay.classList.remove('open');
        }
      }

      function showItemDetail(item) {
          detailItemImage.src = item.imageUrl;
          detailItemName.textContent = item.name;
          detailItemPrice.textContent = `$${(item.price / (item.price > 1000 ? 100 : 1)).toFixed(2)}`;
          detailItemDescription.textContent = item.description;

          detailAddToCartBtn.dataset.itemId = item.id;
          detailAddToCartBtn.dataset.itemName = item.name;
          detailAddToCartBtn.dataset.itemPrice = item.price;
          detailAddToCartBtn.dataset.itemImage = item.imageUrl;

          itemSizeSelect.value = 'M';

          showPage('item-detail-page');
      }

      function displayChatMessage(message, sender, isTypingIndicator = false) {
          const messageElement = document.createElement('div');
          messageElement.classList.add('chat-message-bubble');

          if (sender === 'user') {
              messageElement.classList.add('user-message');
              messageElement.textContent = message;
          } else {
              messageElement.classList.add('bot-message');
              const avatar = document.createElement('div');
              avatar.classList.add('bot-avatar');
              avatar.innerHTML = '<i class="fas fa-robot"></i>';
              messageElement.appendChild(avatar);

              const textContent = document.createElement('span');
              textContent.textContent = message;
              messageElement.appendChild(textContent);

              if (isTypingIndicator) {
                  messageElement.id = 'typing-indicator';
                  textContent.textContent = '';
                  textContent.classList.add('dot-pulse-container');
                  textContent.innerHTML = '<div class="dot-pulse"></div><div class="dot-pulse"></div><div class="dot-pulse"></div>';
              }
          }
          chatMessages.appendChild(messageElement);
          chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      async function sendChatToBot(userMessage) {
          if (isBotTyping) return;

          displayChatMessage(userMessage, 'user');
          chatHistory.push({ role: "user", content: userMessage });
          chatInput.value = '';

          isBotTyping = true;
          displayChatMessage('', 'bot', true);

          try {
              const response = await fetch(DEEPSEEK_API_URL, {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json',
                      'Authorization': `Bearer ${DEEPSEEK_API_KEY}`
                  },
                  body: JSON.stringify({
                      model: 'deepseek-chat',
                      messages: chatHistory,
                      stream: false
                  })
              });

              if (!response.ok) {
                  const errorData = await response.json();
                  throw new Error(`API error: ${response.status} - ${errorData.message || response.statusText}`);
              }

              const data = await response.json();
              const botResponse = data.choices[0].message.content;
              chatHistory.push({ role: "assistant", content: botResponse });

              const typingIndicatorElement = document.getElementById('typing-indicator');
              if (typingIndicatorElement) {
                  typingIndicatorElement.remove();
              }

              let i = 0;
              const botMessageElement = document.createElement('div');
              botMessageElement.classList.add('chat-message-bubble', 'bot-message');
              const avatar = document.createElement('div');
              avatar.classList.add('bot-avatar');
              avatar.innerHTML = '<i class="fas fa-robot"></i>';
              botMessageElement.appendChild(avatar);
              const textContent = document.createElement('span');
              botMessageElement.appendChild(textContent);
              chatMessages.appendChild(botMessageElement);
              chatMessages.scrollTop = chatMessages.scrollHeight;

              const typingInterval = setInterval(() => {
                  if (i < botResponse.length) {
                      textContent.textContent += botResponse.charAt(i);
                      i++;
                      chatMessages.scrollTop = chatMessages.scrollHeight;
                  } else {
                      clearInterval(typingInterval);
                      isBotTyping = false;
                  }
              }, 30);
          } catch (error) {
              console.error("Error communicating with UltreBot:", error);
              const typingIndicatorElement = document.getElementById('typing-indicator');
              if (typingIndicatorElement) {
                  typingIndicatorElement.remove();
              }
              displayChatMessage("Oops! I'm having trouble connecting right now. Please try again later.", 'bot');
              isBotTyping = false;
          }
      }

      function updateSettingsContent(category) {
          settingsContentTitle.textContent = `${category.charAt(0).toUpperCase() + category.slice(1).replace('-', ' ')} Settings`;
          settingsContentArea.innerHTML = '';

          let contentHtml = '';
          const userFirstName = localStorage.getItem('userFirstName') || '';
          const userLastName = localStorage.getItem('userLastName') || '';

          switch (category) {
              case 'general':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Basic settings for your account and site experience.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <div>
                                  <label for="general-first-name" class="block text-sm font-medium text-gray-300 mb-1">First Name</label>
                                  <input type="text" id="general-first-name" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white" value="${userFirstName}">
                              </div>
                              <div>
                                  <label for="general-last-name" class="block text-sm font-medium text-gray-300 mb-1">Last Name</label>
                                  <input type="text" id="general-last-name" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white" value="${userLastName}">
                              </div>
                              <div>
                                  <label for="language-select" class="block text-sm font-medium text-gray-300 mb-1">Language</label>
                                  <select id="language-select" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white">
                                      <option value="en">English</option>
                                      <option value="es">Espa√±ol</option>
                                      <option value="fr">Fran√ßais</option>
                                  </select>
                              </div>
                              <div>
                                  <label for="timezone-select" class="block text-sm font-medium text-gray-300 mb-1">Time Zone</label>
                                  <select id="timezone-select" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white">
                                      <option value="utc">UTC</option>
                                      <option value="est">Eastern Standard Time</option>
                                      <option value="pst">Pacific Standard Time</option>
                                      <option value="dubai">Dubai (GMT+4)</option>
                                  </select>
                              </div>
                          </div>
                          <button id="save-general-settings" class="shop-button mt-6 w-full">Save General Settings</button>
                      </div>
                  `;
                  break;
              case 'accessibility':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Adjust settings for better accessibility.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">High Contrast Mode</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="high-contrast-toggle" class="sr-only peer">
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Enable Screen Reader Support</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="screen-reader-toggle" class="sr-only peer">
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <div>
                                  <label for="font-size-select" class="block text-sm font-medium text-gray-300 mb-1">Font Size</label>
                                  <select id="font-size-select" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white">
                                      <option value="small">Small</option>
                                      <option value="medium" selected>Medium</option>
                                      <option value="large">Large</option>
                                  </select>
                              </div>
                          </div>
                          <button id="save-accessibility-settings" class="shop-button mt-6 w-full">Save Accessibility Settings</button>
                      </div>
                  `;
                  break;
              case 'privacy':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Manage your data and privacy preferences.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Allow Personalized Ads</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="personalized-ads-toggle" class="sr-only peer" checked>
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Share Anonymous Usage Data</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="share-usage-data-toggle" class="sr-only peer">
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <button id="download-data-btn" class="shop-button mt-6 w-full bg-blue-600 hover:bg-blue-700">Download My Data</button>
                          </div>
                      </div>
                  `;
                  break;
              case 'visuals':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Customize the look and feel of the site.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <div>
                                  <label for="theme-select" class="block text-sm font-medium text-gray-300 mb-1">Theme</label>
                                  <select id="theme-select" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white">
                                      <option value="dark">Dark (Default)</option>
                                      <option value="light">Light</option>
                                      <option value="system">System Preference</option>
                                  </select>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Enable Animations</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="animations-toggle" class="sr-only peer" checked>
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                          </div>
                          <button id="save-visual-settings" class="shop-button mt-6 w-full">Save Visual Settings</button>
                      </div>
                  `;
                  break;
              case 'payment-method':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Manage your saved payment methods.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <p class="text-sm text-gray-400">No payment methods are currently saved for your account.</p>
                              <h3 class="text-lg font-semibold text-white mt-6 mb-3">Add New Payment Method</h3>
                              <div>
                                  <label for="card-number" class="block text-sm font-medium text-gray-300 mb-1">Card Number</label>
                                  <input type="text" id="card-number" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white" placeholder="**** **** **** ****">
                              </div>
                              <div class="flex gap-4">
                                  <div class="flex-1">
                                      <label for="expiry-date" class="block text-sm font-medium text-gray-300 mb-1">Expiry Date (MM/YY)</label>
                                      <input type="text" id="expiry-date" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white" placeholder="MM/YY">
                                  </div>
                                  <div class="flex-1">
                                      <label for="cvv" class="block text-sm font-medium text-gray-300 mb-1">CVV</label>
                                      <input type="text" id="cvv" class="w-full p-2 rounded-md bg-gray-600 text-white border border-gray-500 focus:outline-none focus:border-white" placeholder="***">
                                  </div>
                              </div>
                          </div>
                          <button id="save-payment-method" class="shop-button mt-6 w-full bg-blue-600 hover:bg-blue-700">Save Payment Method</button>
                      </div>
                  `;
                  break;
              case 'notifications':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Control how you receive notifications.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Email Notifications</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="email-notifications-toggle" class="sr-only peer" checked>
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Promotional Offers</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="promotional-offers-toggle" class="sr-only peer">
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                              <div class="flex items-center justify-between">
                                  <span class="text-sm font-medium text-gray-300">Push Notifications</span>
                                  <label class="relative inline-flex items-center cursor-pointer">
                                      <input type="checkbox" id="push-notifications-toggle" class="sr-only peer">
                                      <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                  </label>
                              </div>
                          </div>
                          <button id="save-notification-settings" class="shop-button mt-6 w-full">Save Notification Settings</button>
                      </div>
                  `;
                  break;
              case 'security':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Manage your account security settings.</p>
                          <div class="mt-4 space-y-4 text-left">
                              <button id="change-password-btn" class="shop-button w-full bg-red-600 hover:bg-red-700">Change Password</button>
                              <button id="two-factor-auth-btn" class="shop-button w-full bg-yellow-600 hover:bg-yellow-700">Enable Two-Factor Authentication</button>
                              <div class="mt-6">
                                  <h3 class="text-lg font-semibold text-white mb-2">Login Activity</h3>
                                  <ul class="list-disc list-inside text-sm text-gray-300 space-y-1">
                                      <li>Last login: July 15, 2025 from Chrome on Windows (Dubai, UAE)</li>
                                      <li>Previous login: July 14, 2025 from Safari on iOS (London, UK)</li>
                                  </ul>
                                  <button id="view-all-activity-btn" class="shop-button mt-4 bg-gray-600 hover:bg-gray-700 w-full">View All Activity</button>
                              </div>
                          </div>
                      </div>
                  `;
                  break;
              case 'integrations':
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-4">Connect or disconnect third-party services.</p>
                          <p class="text-sm text-gray-400 mt-2">No integrations are currently available. Check back soon for exciting new connections!</p>
                          <div class="mt-4 space-y-3">
                              <div class="flex items-center justify-between p-3 bg-gray-600 rounded-md">
                                  <span class="text-white font-medium">Shopify</span>
                                  <button class="bg-blue-500 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-600 transition-colors">Connect</button>
                              </div>
                              <div class="flex items-center justify-between p-3 bg-gray-600 rounded-md">
                                  <span class="text-white font-medium">Google Analytics</span>
                                  <button class="bg-blue-500 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-600 transition-colors">Connect</button>
                              </div>
                          </div>
                      </div>
                  `;
                  break;
              default:
                  contentHtml = `
                      <div class="bg-gray-700 border border-gray-600 text-gray-200 p-4 rounded-lg">
                          <p class="font-semibold mb-2">Welcome to your settings!</p>
                          <p>Please select a category from the left to view and adjust your preferences.</p>
                      </div>
                  `;
                  break;
          }
          settingsContentArea.innerHTML = contentHtml;

          if (category === 'general') {
              document.getElementById('save-general-settings').addEventListener('click', () => {
                  const newFirstName = document.getElementById('general-first-name').value.trim();
                  const newLastName = document.getElementById('general-last-name').value.trim();
                  localStorage.setItem('userFirstName', newFirstName);
                  localStorage.setItem('userLastName', newLastName);
                  showMessageBox('General settings saved!');
              });
          } else if (category === 'accessibility') {
              document.getElementById('save-accessibility-settings').addEventListener('click', () => {
                  showMessageBox('Accessibility settings saved!');
              });
          } else if (category === 'privacy') {
              document.getElementById('download-data-btn').addEventListener('click', () => {
                  showMessageBox('Downloading your data (simulated)!', 3000, false);
              });
          } else if (category === 'visuals') {
              document.getElementById('save-visual-settings').addEventListener('click', () => {
                  showMessageBox('Visual settings saved!');
              });
          } else if (category === 'payment-method') {
              document.getElementById('save-payment-method').addEventListener('click', () => {
                  const cardNumber = document.getElementById('card-number').value.trim();
                  const expiryDate = document.getElementById('expiry-date').value.trim();
                  const cvv = document.getElementById('cvv').value.trim();
                  if (cardNumber && expiryDate && cvv) {
                      showMessageBox('Payment method saved (simulated)!');
                  } else {
                      showMessageBox('Please fill in all card details!', 3000, true);
                  }
              });
          } else if (category === 'notifications') {
              document.getElementById('save-notification-settings').addEventListener('click', () => {
                  showMessageBox('Notification settings saved!');
              });
          } else if (category === 'security') {
              document.getElementById('change-password-btn').addEventListener('click', () => {
                  showMessageBox('Redirecting to password change (simulated)!');
              });
              document.getElementById('two-factor-auth-btn').addEventListener('click', () => {
                  showMessageBox('Two-factor authentication setup initiated (simulated)!');
              });
              document.getElementById('view-all-activity-btn').addEventListener('click', () => {
                  showMessageBox('Viewing all login activity (simulated)!');
              });
          }
      }

      checkoutButton.addEventListener('click', () => {
        checkoutModalOverlay.classList.add('show');
        orderConfirmationMessage.classList.add('hidden');
        placeOrderBtn.style.display = 'block';
      });

      modalCloseBtn.addEventListener('click', () => {
        checkoutModalOverlay.classList.remove('show');
      });

      placeOrderBtn.addEventListener('click', () => {
        cart = {};
        renderCart();
        placeOrderBtn.style.display = 'none';
        orderConfirmationMessage.classList.remove('hidden');

        setTimeout(() => {
          checkoutModalOverlay.classList.remove('show');
          showPage('home-main');
        }, 2000);
      });

      detailAddToCartBtn.addEventListener('click', (event) => {
          const itemId = event.target.dataset.itemId;
          const itemName = event.target.dataset.itemName;
          const itemPrice = parseFloat(event.target.dataset.itemPrice);
          const itemImage = event.target.dataset.itemImage;
          const selectedSize = itemSizeSelect.value;
          addToCart({ id: itemId, name: itemName, price: itemPrice, imageUrl: itemImage, size: selectedSize });
          showMessageBox(`${itemName} (Size: ${selectedSize}) has successfully been added to cart!`);
      });

      backToShopBtn.addEventListener('click', () => {
          showPage('shop-page');
      });

      signInBtn.addEventListener('click', (e) => {
          e.preventDefault();
          const email = signInEmailInput.value.trim();
          const password = signInPasswordInput.value.trim();

          signInErrorMessage.classList.add('hidden');

          if (!email || !password) {
              signInErrorMessage.textContent = 'Please enter both email and password.';
              signInErrorMessage.classList.remove('hidden');
              showMessageBox('Please fill in all fields!', 3000, true);
              return;
          }

          showMessageBox('Signed in successfully! Welcome back!', 3000);
          setTimeout(() => {
              showPage('home-main');
              signInEmailInput.value = '';
              signInPasswordInput.value = '';
          }, 1000);
      });

      signUpBtn.addEventListener('click', (e) => {
          e.preventDefault();
          const email = signUpEmailInput.value.trim();
          const password = signUpPasswordInput.value.trim();
          const confirmPassword = signUpConfirmPasswordInput.value.trim();

          signUpErrorMessage.classList.add('hidden');

          if (!email || !password || !confirmPassword) {
              signUpErrorMessage.textContent = 'Please fill in all fields.';
              signUpErrorMessage.classList.remove('hidden');
              showMessageBox('Please fill in all fields!', 3000, true);
              return;
          }

          if (password !== confirmPassword) {
              signUpErrorMessage.textContent = 'Passwords do not match.';
              signUpErrorMessage.classList.remove('hidden');
              showMessageBox('Passwords do not match!', 3000, true);
              return;
          }

          showMessageBox('Account created successfully! Please tell us your name!', 3000);
          setTimeout(() => {
              showPage('onboarding-main');
              signUpEmailInput.value = '';
              signUpPasswordInput.value = '';
              signUpConfirmPasswordInput.value = '';
          }, 1000);
      });

      onboardingSaveBtn.addEventListener('click', () => {
          const firstName = onboardingFirstNameInput.value.trim();
          const lastName = onboardingLastNameInput.value.trim();

          onboardingErrorMessage.classList.add('hidden');

          if (!firstName || !lastName) {
              onboardingErrorMessage.textContent = 'Please enter both your first and last name.';
              onboardingErrorMessage.classList.remove('hidden');
              showMessageBox('Please fill in all fields!', 3000, true);
              return;
          }

          localStorage.setItem('userFirstName', firstName);
          localStorage.setItem('userLastName', lastName);

          showMessageBox(`Welcome, ${firstName}! Enjoy shopping!`, 3000);
          setTimeout(() => {
              showPage('home-main');
              onboardingFirstNameInput.value = '';
              onboardingLastNameInput.value = '';
          }, 1000);
      });

      document.querySelectorAll('.auth-form-container .form-link').forEach(link => {
          link.addEventListener('click', function(e) {
              e.preventDefault();
              const targetId = this.getAttribute('href').substring(1);
              showPage(targetId);
          });
      });

      quickEasyBtn.addEventListener('click', () => {
          showPage('chat-interface');
      });

      advancedSupportBtn.addEventListener('click', () => {
          window.location.href = 'mailto:support@ultre.com?subject=Support%20Request&body=Hello%20Ultre%20Support%2C%0A%0AI%20need%20help%20with%3A%0A%0A[Please%20describe%20your%20issue%20here]';
      });

      backToMainSiteBtn.addEventListener('click', () => {
          showPage('home-main');
      });

      sendChatBtn.addEventListener('click', () => {
          const message = chatInput.value.trim();
          if (message) {
              sendChatToBot(message);
          }
      });

      chatInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
              sendChatBtn.click();
          }
      });

      settingsNavLinks.forEach(link => {
          link.addEventListener('click', (e) => {
              e.preventDefault();
              settingsNavLinks.forEach(navLink => navLink.classList.remove('bg-gray-700', 'text-white'));
              e.target.classList.add('bg-gray-700', 'text-white');

              const category = e.target.dataset.settingCategory;
              updateSettingsContent(category);
          });
      });

      hamburgerIcon.addEventListener('click', () => {
          mobileNavOverlay.classList.add('open');
      });

      mobileNavCloseBtn.addEventListener('click', () => {
          mobileNavOverlay.classList.remove('open');
      });

      mobileNavItems.forEach(item => {
          item.addEventListener('click', function (e) {
              e.preventDefault();
              const targetId = this.getAttribute('data-page-id');
              showPage(targetId);
              mobileNavOverlay.classList.remove('open');
          });
      });


      window.onload = function() {
        splitAndAnimateLetters('mainTagline', 1.5);

        shopButton.addEventListener('click', () => {
          transitionOverlay.classList.add('active');

          transitionOverlay.addEventListener('transitionend', function handler() {
            transitionOverlay.removeEventListener('transitionend', handler);

            introSection.classList.add('hidden-content');
            mainWebsiteContentWrapper.classList.add('active-content');

            supportMode = false;
            showPage('home-main');

            transitionOverlay.classList.remove('active');
          });
        });

        document.querySelectorAll('nav ul li a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                showPage(targetId);
            });
        });

        document.querySelectorAll('.profile-dropdown .dropdown-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                showPage(targetId);
            });
        });

        window.addEventListener('resize', () => {
            const currentPage = document.querySelector('#main-website-content-wrapper > section.active-page');
            if (currentPage) {
                if (window.innerWidth >= 768) {
                    updateNavIndicator(currentPage.id);
                }
            }
        });

        const initialSettingLink = document.querySelector('.settings-nav-link[data-setting-category="general"]');
        if (initialSettingLink) {
            initialSettingLink.classList.add('bg-gray-700', 'text-white');
            updateSettingsContent('general');
        }
      };
    </script>
  </body>
</html>
